const { default: makeWASocket, useMultiFileAuthState, fetchLatestBaileysVersion } = require('@whiskeysockets/baileys');
const Pino = require('pino');
const cron = require('node-cron');
const fs = require('fs');
const qrcode = require('qrcode-terminal');
const http = require('http');

require('http').createServer((req, res) => res.end('Hello, world!')).listen(3000);


// Load prayer times from a JSON file
const prayerTimes = JSON.parse(fs.readFileSync('prayerTimes.json', 'utf-8'));

async function startBot() {
    const { state, saveCreds } = await useMultiFileAuthState('auth');
    const { version } = await fetchLatestBaileysVersion();

    const sock = makeWASocket({
        version,
        auth: state,
        logger: Pino({ level: 'silent' })
    });

    sock.ev.on('creds.update', saveCreds);
    sock.ev.on('connection.update', async (update) => {
        const { connection, qr } = update;
        if (qr) {
            // Display the QR code in the terminal
            qrcode.generate(qr, { small: true });
        }
        if (connection === 'close') {
            // Wrap the reconnection in try-catch to handle errors
        try {
            await startBot();
          } catch (error) {
            console.error("Error reconnecting:", error);
            // Optionally, you can retry after a delay:
            setTimeout(startBot, 5000);
          }
        } else if (connection === 'open') {
            console.log('Bot connected! âœ…');
        }
    });

    sock.ev.on('messages.upsert', async ({ messages }) => {
        const msg = messages[0];
        if (!msg.message) return;
        const sender = msg.key.remoteJid;
        const text = msg.message.conversation || msg.message.extendedTextMessage?.text;

        // Manage subscriptions via simple commands
        if (text?.toLowerCase() === 'start') {
            let subscribers = fs.existsSync('subscribers.json')
                ? JSON.parse(fs.readFileSync('subscribers.json', 'utf-8'))
                : [];
            if (!subscribers.includes(sender)) {
                subscribers.push(sender);
                fs.writeFileSync('subscribers.json', JSON.stringify(subscribers));
            }
            await sock.sendMessage(sender, { text: 'You have subscribed to prayer time reminders! âœ…' });
        } else if (text?.toLowerCase() === 'stop') {
            let subscribers = fs.existsSync('subscribers.json')
                ? JSON.parse(fs.readFileSync('subscribers.json', 'utf-8'))
                : [];
            subscribers = subscribers.filter(sub => sub !== sender);
            fs.writeFileSync('subscribers.json', JSON.stringify(subscribers));
            await sock.sendMessage(sender, { text: 'You have unsubscribed from prayer time reminders. âŒ' });
        } else if (text?.toLowerCase() === 'list') {
            // Get today's prayer times
            const now = new Date();
            const currentMonth = now.toLocaleString('default', { month: 'long' });
            const currentDay = now.getDate();
    
            if (!prayerTimes[currentMonth]) {
                await sock.sendMessage(sender, { text: `Prayer times for ${currentMonth} not found.` });
                return;
            }
    
            const monthTimes = prayerTimes[currentMonth];
            let dayRangeKey = null;
            for (const range in monthTimes) {
                const [start, end] = range.split('-').map(Number);
                if (currentDay >= start && currentDay <= end) {
                    dayRangeKey = range;
                    break;
                }
            }
    
            if (!dayRangeKey) {
                await sock.sendMessage(sender, { text: `Prayer times for day ${currentDay} not found in month ${currentMonth}.` });
                return;
            }
    
            const todaysPrayerTimes = monthTimes[dayRangeKey];
    
            // Format prayer times
            let prayerTimesText = `ğŸ“… *Today's Prayer Times*\n\n`;
            Object.entries(todaysPrayerTimes).forEach(([prayer, time]) => {
                prayerTimesText += `ğŸ•Œ *${prayer}*: ${time}\n`;
            });

            let subscribers = fs.existsSync('subscribers.json')
                ? JSON.parse(fs.readFileSync('subscribers.json', 'utf-8'))
                : [];
    
            prayerTimesText += `\nğŸ‘¥ *Active Subscribers*: ${subscribers.length}`;
    
            // Send prayer times and subscriber count
            await sock.sendMessage(sender, { text: prayerTimesText });
        }
    });

    // Schedule prayer reminders based on current date
    const now = new Date();
    const currentMonth = now.toLocaleString('default', { month: 'long' });
    const currentDay = now.getDate();

    if (!prayerTimes[currentMonth]) {
        console.error(`Prayer times for ${currentMonth} not found.`);
        return;
    }
    const monthTimes = prayerTimes[currentMonth];
    let dayRangeKey = null;
    for (const range in monthTimes) {
        const [start, end] = range.split('-').map(Number);
        if (currentDay >= start && currentDay <= end) {
            dayRangeKey = range;
            break;
        }
    }
    if (!dayRangeKey) {
        console.error(`Prayer times for day ${currentDay} not found in month ${currentMonth}.`);
        return;
    }
    const todaysPrayerTimes = monthTimes[dayRangeKey];
    const timeZone = 'Asia/Kolkata';

    // Schedule a cron job for each prayer time
    Object.entries(todaysPrayerTimes).forEach(([prayer, timeValue]) => {
        const timeStr = timeValue.toFixed(2);
        const parts = timeStr.split('.');
        let hour = parts[0];
        let minute = parts[1] || "00";
        if (minute.length === 1) minute = '0' + minute;
        const cronTime = `${minute} ${hour} * * *`;
        cron.schedule(cronTime, async () => {
            const msg = [{
                "Subah": [
                    {
                        "message": "à´«à´œàµâ€Œàµ¼ à´¨à´®à´¸àµà´•à´¾à´°à´‚! à´ªàµà´°à´­à´¾à´¤à´¤àµà´¤à´¿à´²àµ† à´–àµàµ¼à´†àµ» à´ªà´¾à´°à´¾à´¯à´£à´‚ à´¸à´¾à´•àµà´·àµà´¯à´‚ à´µà´¹à´¿à´•àµà´•à´ªàµà´ªàµ†à´Ÿàµà´¨àµà´¨à´¤à´¾à´£àµ. à´ˆ à´ªàµà´²à´°à´¿à´¯à´¿àµ½ à´–àµàµ¼à´†àµ» à´ªà´¾à´°à´¾à´¯à´£à´‚ à´šàµ†à´¯àµà´¤àµ à´…à´²àµà´²à´¾à´¹àµà´µà´¿àµ»àµà´±àµ† à´…à´¨àµà´—àµà´°à´¹à´‚ à´¤àµ‡à´Ÿà´¾à´‚."
                    },
                    {
                        "message": "à´±à´®à´¦à´¾à´¨à´¿à´²àµ† à´ˆ à´ªàµà´°à´­à´¾à´¤à´¤àµà´¤à´¿àµ½, à´«à´œàµâ€Œà´±à´¿àµ»àµà´±àµ† à´¶à´¾à´¨àµà´¤à´¤à´¯à´¿àµ½ à´¨à´¬à´¿(à´¸) à´ªà´±à´àµà´àµ: à´°à´£àµà´Ÿàµ à´±à´•àµà´…à´¤àµà´¤àµ à´«à´œàµâ€Œàµ¼ à´¨à´®à´¸àµà´•à´¾à´°à´‚, à´ˆ à´²àµ‹à´•à´¤àµà´¤àµ‡à´•àµà´•à´¾à´³àµà´‚ à´…à´¤à´¿à´²àµà´³àµà´³à´¤à´¿à´¨àµ‡à´•àµà´•à´¾à´³àµà´‚ à´‰à´¤àµà´¤à´®à´®à´¾à´£àµ. à´ˆ à´ªàµà´£àµà´¯à´¤àµà´¤à´¿àµ½ à´ªà´™àµà´•àµà´šàµ‡à´°à´¾à´‚."
                    },
                    {
                        "message": "à´«à´œàµâ€Œàµ¼ à´¸à´®à´¯à´‚! à´…à´²àµà´²à´¾à´¹àµà´µà´¿àµ»àµà´±àµ† à´¸àµà´®à´°à´£à´¯à´¿àµ½ à´’à´°àµ à´ªàµà´¤à´¿à´¯ à´¦à´¿à´¨à´‚ à´†à´°à´‚à´­à´¿à´•àµà´•à´¾à´‚. à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´°à´•àµà´·à´¿à´¤à´¾à´µà´¿à´¨àµ† à´®à´¨à´¸àµà´¸à´¿àµ½ à´µà´¿à´¨à´¯à´¤àµà´¤àµ‹à´Ÿàµà´‚ à´­à´¯à´¤àµà´¤àµ‹à´Ÿàµà´‚ à´•àµ‚à´Ÿà´¿ à´¶à´¬àµà´¦à´®àµà´¯àµ¼à´¤àµà´¤à´¾à´¤àµ† à´°à´¾à´µà´¿à´²àµ†à´¯àµà´‚ à´µàµˆà´•àµà´¨àµà´¨àµ‡à´°à´µàµà´‚ à´¸àµà´®à´°à´¿à´•àµà´•àµà´•."
                    },
                    {
                        "message": "à´«à´œàµâ€Œàµ¼ à´¨à´®à´¸àµà´•à´¾à´°à´‚! à´ˆ à´ªàµà´²à´°à´¿à´¯à´¿àµ½, à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´¹àµƒà´¦à´¯à´¤àµà´¤à´¿à´²àµ† à´¨à´¨àµà´®à´•à´³àµ† à´‰à´£àµ¼à´¤àµà´¤àµà´•. à´ˆ à´¦à´¿à´µà´¸à´‚ à´¨à´¿à´™àµà´™àµ¾à´•àµà´•àµ à´…à´¨àµà´•àµ‚à´²à´®à´¾à´µà´Ÿàµà´Ÿàµ†."
                    },
                    {
                        "message": "à´«à´œàµâ€Œàµ¼! à´ˆ à´ªàµà´°à´­à´¾à´¤à´¤àµà´¤à´¿àµ½, à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´ªàµà´°à´¿à´¯à´ªàµà´ªàµ†à´Ÿàµà´Ÿà´µàµ¼à´•àµà´•àµ à´µàµ‡à´£àµà´Ÿà´¿ à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¿à´•àµà´•àµà´•. à´…à´µà´°àµà´Ÿàµ† à´¸à´¨àµà´¤àµ‹à´·à´¤àµà´¤à´¿à´¨à´¾à´¯à´¿ à´…à´²àµà´²à´¾à´¹àµà´µà´¿à´¨àµ‹à´Ÿàµ à´…à´ªàµ‡à´•àµà´·à´¿à´•àµà´•àµà´•."
                    },
                    {
                        "message": "à´ªàµà´²à´°à´¿à´¯àµà´Ÿàµ† à´¶à´¾à´¨àµà´¤à´¤à´¯à´¿àµ½, à´«à´œàµâ€Œàµ¼ à´¨à´®à´¸àµà´•à´¾à´°à´¤àµà´¤à´¿à´²àµ‚à´Ÿàµ† à´¹àµƒà´¦à´¯à´‚ à´¦àµˆà´µà´¸àµà´®à´°à´£à´¯à´¿àµ½ à´²à´¯à´¿à´ªàµà´ªà´¿à´•àµà´•à´¾à´‚. à´ˆ à´¦à´¿à´¨à´‚ à´…à´¨àµà´—àµà´°à´¹à´ªàµ‚àµ¼à´£àµà´£à´®à´¾à´•à´Ÿàµà´Ÿàµ†."
                    },
                    {
                        "message": "à´«à´œàµâ€Œàµ¼ à´¨à´®à´¸àµà´•à´¾à´°à´‚! à´ªàµà´°à´­à´¾à´¤à´¤àµà´¤à´¿à´²àµ† à´ˆ à´¶à´¾à´¨àµà´¤à´¤à´¯à´¿àµ½, à´®à´¨à´¸àµà´¸à´¿à´¨àµ† à´¶àµà´¦àµà´§àµ€à´•à´°à´¿à´•àµà´•à´¾à´‚. à´’à´°àµ à´ªàµà´¤à´¿à´¯ à´¤àµà´Ÿà´•àµà´•à´¤àµà´¤à´¿à´¨à´¾à´¯à´¿ à´¤à´¯àµà´¯à´¾à´±àµ†à´Ÿàµà´•àµà´•à´¾à´‚."
                    },
                    {
                        "message": "à´¨à´¬à´¿(à´¸) à´ªà´±à´àµà´àµ: à´†à´°àµ†à´™àµà´•à´¿à´²àµà´‚ à´«à´œàµâ€Œàµ¼ à´¨à´®à´¸àµà´•à´°à´¿à´šàµà´šà´¾àµ½ à´…à´µàµ» à´…à´²àµà´²à´¾à´¹àµà´µà´¿àµ»àµà´±àµ† à´¸à´‚à´°à´•àµà´·à´£à´¤àµà´¤à´¿à´²à´¾à´¯à´¿. à´ˆ à´¸à´‚à´°à´•àµà´·à´£à´‚ à´¨àµ‡à´Ÿà´¾à´‚."
                    },
                    {
                        "message": "à´«à´œàµâ€Œàµ¼ à´¨à´®à´¸àµà´•à´¾à´°à´‚! à´ˆ à´ªàµà´²à´°à´¿à´¯à´¿àµ½, à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´¤àµ†à´±àµà´±àµà´•àµ¾ à´“àµ¼à´¤àµà´¤àµ à´ªà´¶àµà´šà´¾à´¤àµà´¤à´ªà´¿à´•àµà´•àµà´•. à´¨à´²àµà´² à´šà´¿à´¨àµà´¤à´•à´³àµ‹à´Ÿàµ† à´®àµà´¨àµà´¨àµ‹à´Ÿàµà´Ÿàµ à´ªàµ‹à´•à´¾à´¨à´¾à´¯à´¿ à´…à´²àµà´²à´¾à´¹àµà´µà´¿à´¨àµ‹à´Ÿàµ à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¿à´•àµà´•àµà´•."
                    },
                    {
                        "message": "à´«à´œàµâ€Œàµ¼! à´ˆ à´ªàµà´²à´°à´¿à´¯à´¿àµ½, à´…à´²àµà´²à´¾à´¹àµà´µà´¿àµ»àµà´±àµ† à´…à´¨àµà´—àµà´°à´¹à´‚ à´¤àµ‡à´Ÿà´¾à´‚. à´ˆ à´¦à´¿à´µà´¸à´‚ à´¨à´²àµà´² à´¤àµà´Ÿà´•àµà´•à´®à´¾à´•à´Ÿàµà´Ÿàµ†."
                    }
                ]
            }, {
                "Luhar": [
                    {
                        "message": "à´³àµà´¹àµ¼ à´¨à´®à´¸àµà´•à´¾à´°à´‚! à´¨à´®à´¸àµà´•à´¾à´°à´‚ à´¨à´¿à´²à´¨à´¿àµ¼à´¤àµà´¤àµà´• à´¤àµ€àµ¼à´šàµà´šà´¯à´¾à´¯àµà´‚ à´¨à´®à´¸àµà´•à´¾à´°à´‚ à´¨àµ€à´šà´µàµà´‚ à´¨à´¿à´·à´¿à´¦àµà´§à´µàµà´®à´¾à´¯ à´•à´¾à´°àµà´¯à´™àµà´™à´³à´¿àµ½ à´¨à´¿à´¨àµà´¨àµ à´¤à´Ÿà´¯àµà´¨àµà´¨àµ. à´ˆ à´‰à´šàµà´šà´¸à´®à´¯à´¤àµà´¤àµ, à´¨à´®àµà´®àµà´Ÿàµ† à´•à´Ÿà´®à´•à´³àµ†à´•àµà´•àµà´±à´¿à´šàµà´šàµ à´šà´¿à´¨àµà´¤à´¿à´•àµà´•à´¾à´‚."
                    },
                    {
                        "message": "à´±à´®à´¦à´¾à´¨à´¿à´²àµ† à´ˆ à´‰à´šàµà´šà´¯à´¿àµ½, à´³àµà´¹àµ¼ à´¨à´®à´¸àµà´•à´¾à´°à´¤àµà´¤à´¿à´²àµ‚à´Ÿàµ† à´¨à´¬à´¿(à´¸) à´ªà´±à´àµà´àµ: à´¸à´®à´¯à´‚ à´¤àµ†à´±àµà´±à´¾à´¤àµ† à´¨à´®à´¸àµâ€Œà´•à´°à´¿à´•àµà´•àµà´¨àµà´¨à´µàµ»àµà´±àµ† à´œàµ€à´µà´¿à´¤à´¤àµà´¤à´¿àµ½ à´…à´²àµà´²à´¾à´¹àµ à´¬àµ¼à´•à´¤àµà´¤àµ à´¨àµ½à´•àµà´‚. à´ˆ à´…à´¨àµà´—àµà´°à´¹à´‚ à´¨àµ‡à´Ÿà´¾àµ» à´¶àµà´°à´®à´¿à´•àµà´•à´¾à´‚."
                    },
                    {
                        "message": "à´³àµà´¹àµ¼ à´¸à´®à´¯à´‚! à´…à´²àµà´²à´¾à´¹àµà´µà´¿àµ»àµà´±àµ† à´¸àµà´®à´°à´£à´¯à´¿àµ½ à´¨à´®àµà´®àµà´Ÿàµ† à´®à´¨à´¸àµà´¸à´¿à´¨àµ† à´¶à´¾à´¨àµà´¤à´®à´¾à´•àµà´•à´¾à´‚. à´¨à´¿à´™àµà´™àµ¾ à´…à´²àµà´²à´¾à´¹àµà´µà´¿à´¨àµ† à´§à´¾à´°à´¾à´³à´®à´¾à´¯à´¿ à´¸àµà´®à´°à´¿à´•àµà´•àµà´•. à´¨à´¿à´™àµà´™àµ¾à´•àµà´•àµ à´µà´¿à´œà´¯à´‚ à´ªàµà´°à´¤àµ€à´•àµà´·à´¿à´•àµà´•à´¾à´‚."
                    },
                    {
                        "message": "à´³àµà´¹àµ¼ à´¨à´®à´¸àµà´•à´¾à´°à´‚! à´ˆ à´‰à´šàµà´šà´¸à´®à´¯à´¤àµà´¤àµ, à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´¤à´¿à´°à´•àµà´•àµà´•à´³à´¿àµ½ à´¨à´¿à´¨àµà´¨àµ à´…àµ½à´ªà´¸à´®à´¯à´‚ à´®à´¾à´±àµà´±à´¿ à´…à´²àµà´²à´¾à´¹àµà´µà´¿à´¨àµ† à´“àµ¼à´•àµà´•àµà´•. à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´œàµ€à´µà´¿à´¤à´¤àµà´¤à´¿à´²àµ† à´•à´Ÿà´®à´•à´³àµ†à´•àµà´•àµà´±à´¿à´šàµà´šàµ à´šà´¿à´¨àµà´¤à´¿à´•àµà´•àµà´•."
                    },
                    {
                        "message": "à´³àµà´¹àµ¼! à´ˆ à´‰à´šàµà´šà´¸à´®à´¯à´¤àµà´¤àµ, à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´šàµà´±àµà´±àµà´®àµà´³àµà´³à´µàµ¼à´•àµà´•àµ à´µàµ‡à´£àµà´Ÿà´¿ à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¿à´•àµà´•àµà´•. à´…à´µà´°àµà´Ÿàµ† à´¸à´¨àµà´¤àµ‹à´·à´¤àµà´¤à´¿à´¨à´¾à´¯à´¿ à´…à´²àµà´²à´¾à´¹àµà´µà´¿à´¨àµ‹à´Ÿàµ à´…à´ªàµ‡à´•àµà´·à´¿à´•àµà´•àµà´•."
                    },
                    {
                        "message": "à´‰à´šàµà´šà´µàµ†à´¯à´¿à´²à´¿àµ»àµà´±àµ† à´šàµ‚à´Ÿà´¿à´²àµà´‚, à´³àµà´¹àµ¼ à´¨à´®à´¸àµà´•à´¾à´°à´¤àµà´¤à´¿à´²àµ‚à´Ÿàµ† à´®à´¨à´¸àµà´¸à´¿à´¨àµ† à´¶à´¾à´¨àµà´¤à´®à´¾à´•àµà´•à´¾à´‚. à´ˆ à´¸à´®à´¯à´‚ à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¨à´•àµ¾à´•àµà´•àµ à´®à´¾à´±àµà´±à´¿à´µàµ†à´•àµà´•à´¾à´‚."
                    },
                    {
                        "message": "à´³àµà´¹àµ¼ à´¨à´®à´¸àµà´•à´¾à´°à´‚! à´¨àµ‹à´®àµà´ªà´¿àµ»àµà´±àµ† à´•àµà´·àµ€à´£à´¤àµà´¤à´¿à´²àµà´‚, à´¦àµˆà´µà´¸àµà´®à´°à´£à´¯à´¿àµ½ à´®àµà´´àµà´•à´¾à´‚. à´ˆ à´¸à´®à´¯à´‚ à´¸àµ½à´•àµ¼à´®àµà´®à´™àµà´™àµ¾à´•àµà´•à´¾à´¯à´¿ à´‰à´ªà´¯àµ‹à´—à´¿à´•àµà´•à´¾à´‚."
                    },
                    {
                        "message": "à´³àµà´¹àµ¼ à´¨à´®à´¸àµà´•à´¾à´°à´‚! à´ˆ à´‰à´šàµà´šà´¯à´¿àµ½, à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´¤àµ†à´±àµà´±àµà´•àµ¾ à´“àµ¼à´¤àµà´¤àµ à´ªà´¶àµà´šà´¾à´¤àµà´¤à´ªà´¿à´•àµà´•àµà´•. à´¨à´²àµà´² à´šà´¿à´¨àµà´¤à´•à´³àµ‹à´Ÿàµ† à´®àµà´¨àµà´¨àµ‹à´Ÿàµà´Ÿàµ à´ªàµ‹à´•à´¾à´¨à´¾à´¯à´¿ à´…à´²àµà´²à´¾à´¹àµà´µà´¿à´¨àµ‹à´Ÿàµ à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¿à´•àµà´•àµà´•."
                    },
                    {
                        "message": "à´³àµà´¹àµ¼ à´¸à´®à´¯à´‚! à´ˆ à´ªàµà´£àµà´¯à´®à´¾à´¸à´¤àµà´¤à´¿àµ½, à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´œàµ€à´µà´¿à´¤à´¤àµà´¤à´¿à´²àµ† à´²à´•àµà´·àµà´¯à´™àµà´™à´³àµ†à´•àµà´•àµà´±à´¿à´šàµà´šàµ à´šà´¿à´¨àµà´¤à´¿à´•àµà´•àµà´•. à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´¸àµà´µà´ªàµà´¨à´™àµà´™àµ¾ à´¯à´¾à´¥à´¾àµ¼à´¤àµà´¥àµà´¯à´®à´¾à´•àµà´•à´¾àµ» à´…à´²àµà´²à´¾à´¹àµà´µà´¿à´¨àµ‹à´Ÿàµ à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¿à´•àµà´•àµà´•."
                    },
                    {
                        "message": "à´³àµà´¹àµ¼! à´ˆ à´‰à´šàµà´šà´¸à´®à´¯à´¤àµà´¤àµ, à´…à´²àµà´²à´¾à´¹àµà´µà´¿àµ»àµà´±àµ† à´•à´¾à´°àµà´£àµà´¯à´‚ à´¤àµ‡à´Ÿà´¾à´‚. à´¨à´®àµà´®àµà´Ÿàµ† à´ªàµà´°à´¿à´¯à´ªàµà´ªàµ†à´Ÿàµà´Ÿà´µàµ¼à´•àµà´•àµà´‚ à´²àµ‹à´•à´¤àµà´¤à´¿à´¨àµà´‚ à´µàµ‡à´£àµà´Ÿà´¿ à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¿à´•àµà´•à´¾à´‚."
                    }
                ]
            }, {
                "Asar": [
                    {
                        "message": "à´…à´¸àµ¼ à´¨à´®à´¸àµà´•à´¾à´°à´‚! à´¨à´®à´¸àµà´•à´¾à´°à´™àµà´™àµ¾ à´¸àµ‚à´•àµà´·à´¿à´•àµà´•àµà´•. à´ªàµà´°à´¤àµà´¯àµ‡à´•à´¿à´šàµà´šàµà´‚ à´®à´¦àµà´§àµà´¯ à´¨à´®à´¸àµà´•à´¾à´°à´‚ (à´…à´¸àµ¼). à´…à´²àµà´²à´¾à´¹àµà´µà´¿àµ»àµà´±àµ† à´®àµà´®àµà´ªà´¿àµ½ à´¨à´¿à´™àµà´™àµ¾ à´­à´¯à´­à´•àµà´¤à´¿à´¯àµ‹à´Ÿàµ† à´¨à´¿àµ½à´•àµà´•àµà´•. à´ˆ à´¸à´¾à´¯à´¾à´¹àµà´¨à´¤àµà´¤à´¿àµ½, à´¨à´®àµà´®àµà´Ÿàµ† à´œàµ€à´µà´¿à´¤à´¤àµà´¤à´¿à´²àµ† à´¨à´²àµà´² à´•à´¾à´°àµà´¯à´™àµà´™à´³àµ† à´“àµ¼à´¤àµà´¤àµ à´¨à´¨àµà´¦à´¿ à´ªà´±à´¯à´¾à´‚."
                    },
                    {
                        "message": "à´±à´®à´¦à´¾à´¨à´¿à´²àµ† à´ˆ à´¸à´¾à´¯à´¾à´¹àµà´¨à´¤àµà´¤à´¿àµ½, à´…à´¸àµ¼ à´¨à´®à´¸àµà´•à´¾à´°à´¤àµà´¤à´¿à´²àµ‚à´Ÿàµ† à´¨à´¬à´¿(à´¸) à´ªà´±à´àµà´àµ: à´†à´°àµ†à´™àµà´•à´¿à´²àµà´‚ à´…à´¸àµ¼ à´¨à´®à´¸àµà´•à´¾à´°à´‚ à´’à´´à´¿à´µà´¾à´•àµà´•à´¿à´¯à´¾àµ½ à´…à´µàµ»àµà´±àµ† à´•àµ¼à´®àµà´®à´™àµà´™àµ¾ à´¨à´·àµà´Ÿà´ªàµà´ªàµ†à´Ÿàµà´Ÿàµ. à´ˆ à´¸à´®à´¯à´‚ à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¨à´•àµ¾à´•àµà´•àµ à´®à´¾à´±àµà´±à´¿à´µàµ†à´•àµà´•à´¾à´‚."
                    },
                    {
                        "message": "à´…à´¸àµ¼ à´¸à´®à´¯à´‚! à´…à´²àµà´²à´¾à´¹àµà´µà´¿àµ»àµà´±àµ† à´¸àµà´®à´°à´£à´¯à´¿àµ½ à´¨à´®àµà´®àµà´Ÿàµ† à´®à´¨à´¸àµà´¸à´¿à´¨àµ† à´¶à´¾à´¨àµà´¤à´®à´¾à´•àµà´•à´¾à´‚. à´•àµà´·à´®à´¯àµ‹à´Ÿàµ†à´¯àµà´‚ à´¨à´®à´¸àµà´•à´¾à´°à´¤àµà´¤à´¿à´²àµ‚à´Ÿàµ†à´¯àµà´‚ à´¨à´¿à´™àµà´™àµ¾ à´¸à´¹à´¾à´¯à´‚ à´¤àµ‡à´Ÿàµà´•. à´¤àµ€àµ¼à´šàµà´šà´¯à´¾à´¯àµà´‚ à´…à´²àµà´²à´¾à´¹àµ à´•àµà´·à´®à´¿à´•àµà´•àµà´¨àµà´¨à´µà´°àµ‹à´ŸàµŠà´ªàµà´ªà´®à´¾à´£àµ."
                    },
                    {
                        "message": "à´…à´¸àµ¼ à´¨à´®à´¸àµà´•à´¾à´°à´‚! à´ˆ à´¸à´¾à´¯à´¾à´¹àµà´¨à´¤àµà´¤à´¿àµ½, à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´œàµ€à´µà´¿à´¤à´¤àµà´¤à´¿à´²àµ† à´¨à´²àµà´² à´•à´¾à´°àµà´¯à´™àµà´™à´³àµ† à´“àµ¼à´¤àµà´¤àµ à´¨à´¨àµà´¦à´¿ à´ªà´±à´¯àµà´•. à´…à´²àµà´²à´¾à´¹àµà´µà´¿àµ»àµà´±àµ† à´…à´¨àµà´—àµà´°à´¹à´¤àµà´¤à´¿à´¨àµ à´¨à´¨àµà´¦à´¿ à´ªà´±à´¯àµà´•."
                    },
                    {
                        "message": "à´…à´¸àµ¼! à´ˆ à´¸à´¾à´¯à´¾à´¹àµà´¨à´¤àµà´¤à´¿àµ½, à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´šàµà´±àµà´±àµà´®àµà´³àµà´³à´µàµ¼à´•àµà´•àµ à´µàµ‡à´£àµà´Ÿà´¿ à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¿à´•àµà´•àµà´•. à´…à´µà´°àµà´Ÿàµ† à´¸à´¨àµà´¤àµ‹à´·à´¤àµà´¤à´¿à´¨à´¾à´¯à´¿ à´…à´²àµà´²à´¾à´¹àµà´µà´¿à´¨àµ‹à´Ÿàµ à´…à´ªàµ‡à´•àµà´·à´¿à´•àµà´•àµà´•."
                    },
                    {
                        "message": "à´¸à´¾à´¯à´¾à´¹àµà´¨à´¤àµà´¤à´¿àµ»àµà´±àµ† à´®à´¨àµ‹à´¹à´¾à´°à´¿à´¤à´¯à´¿àµ½, à´…à´¸àµ¼ à´¨à´®à´¸àµà´•à´¾à´°à´¤àµà´¤à´¿à´²àµ‚à´Ÿàµ† à´…à´²àµà´²à´¾à´¹àµà´µà´¿à´¨àµ† à´¸àµà´®à´°à´¿à´•àµà´•à´¾à´‚. à´ˆ à´¸à´®à´¯à´‚ à´¦àµà´†à´•àµ¾à´•àµà´•àµ à´‰à´¤àµà´¤à´°à´‚ à´²à´­à´¿à´•àµà´•àµà´¨àµà´¨à´¤à´¾à´•à´Ÿàµà´Ÿàµ†."
                    },
                    {
                        "message": "à´…à´¸àµ¼ à´¨à´®à´¸àµà´•à´¾à´°à´‚! à´¨àµ‹à´®àµà´ªà´¿àµ»àµà´±àµ† à´•àµà´·àµ€à´£à´¤àµà´¤à´¿à´²àµà´‚, à´¦àµˆà´µà´¸àµà´®à´°à´£à´¯à´¿àµ½ à´®àµà´´àµà´•à´¾à´‚. à´ˆ à´¸à´®à´¯à´‚ à´¸àµ½à´•àµ¼à´®àµà´®à´™àµà´™àµ¾à´•àµà´•à´¾à´¯à´¿ à´‰à´ªà´¯àµ‹à´—à´¿à´•àµà´•à´¾à´‚."
                    },
                    {
                        "message": "à´…à´¸àµ¼ à´¨à´®à´¸àµà´•à´¾à´°à´‚! à´ˆ à´¸à´¾à´¯à´¾à´¹àµà´¨à´¤àµà´¤à´¿àµ½, à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´¤àµ†à´±àµà´±àµà´•àµ¾ à´“àµ¼à´¤àµà´¤àµ à´ªà´¶àµà´šà´¾à´¤àµà´¤à´ªà´¿à´•àµà´•àµà´•. à´¨à´²àµà´² à´šà´¿à´¨àµà´¤à´•à´³àµ‹à´Ÿàµ† à´®àµà´¨àµà´¨àµ‹à´Ÿàµà´Ÿàµ à´ªàµ‹à´•à´¾à´¨à´¾à´¯à´¿ à´…à´²àµà´²à´¾à´¹àµà´µà´¿à´¨àµ‹à´Ÿàµ à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¿à´•àµà´•àµà´•."
                    },
                    {
                        "message": "à´…à´¸àµ¼ à´¸à´®à´¯à´‚! à´ˆ à´ªàµà´£àµà´¯à´®à´¾à´¸à´¤àµà´¤à´¿àµ½, à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´œàµ€à´µà´¿à´¤à´¤àµà´¤à´¿à´²àµ† à´²à´•àµà´·àµà´¯à´™àµà´™à´³àµ†à´•àµà´•àµà´±à´¿à´šàµà´šàµ à´šà´¿à´¨àµà´¤à´¿à´•àµà´•àµà´•. à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´¸àµà´µà´ªàµà´¨à´™àµà´™àµ¾ à´¯à´¾à´¥à´¾àµ¼à´¤àµà´¥àµà´¯à´®à´¾à´•àµà´•à´¾àµ» à´…à´²àµà´²à´¾à´¹àµà´µà´¿à´¨àµ‹à´Ÿàµ à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¿à´•àµà´•àµà´•."
                    },
                    {
                        "message": "à´…à´¸àµ¼! à´ˆ à´¸à´¾à´¯à´¾à´¹àµà´¨à´¤àµà´¤à´¿àµ½, à´…à´²àµà´²à´¾à´¹àµà´µà´¿àµ»àµà´±àµ† à´•à´¾à´°àµà´£àµà´¯à´‚ à´¤àµ‡à´Ÿà´¾à´‚. à´¨à´®àµà´®àµà´Ÿàµ† à´ªàµà´°à´¿à´¯à´ªàµà´ªàµ†à´Ÿàµà´Ÿà´µàµ¼à´•àµà´•àµà´‚ à´²àµ‹à´•à´¤àµà´¤à´¿à´¨àµà´‚ à´µàµ‡à´£àµà´Ÿà´¿ à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¿à´•àµà´•à´¾à´‚."
                    }
                ]
            }, {
                "Maghrib": [
                    {
                        "message": "à´®à´—àµâ€Œà´°à´¿à´¬àµ à´¨à´®à´¸àµà´•à´¾à´°à´‚! à´¨àµ‹à´®àµà´ªàµ à´¤àµà´±à´•àµà´•àµà´®àµà´ªàµ‹àµ¾ à´¦àµà´†à´•àµà´•àµ à´‰à´¤àµà´¤à´°à´‚ à´²à´­à´¿à´•àµà´•àµà´‚. à´ˆ à´¸à´¨àµà´§àµà´¯à´¯à´¿àµ½, à´¨à´®àµà´®àµà´Ÿàµ† à´¨àµ‹à´®àµà´ªàµ à´¤àµà´±à´•àµà´•à´¾à´‚. à´…à´²àµà´²à´¾à´¹àµà´µà´¿àµ»àµà´±àµ† à´…à´¨àµà´—àµà´°à´¹à´¤àµà´¤à´¿à´¨àµ à´¨à´¨àµà´¦à´¿ à´ªà´±à´¯à´¾à´‚."
                    },
                    {
                        "message": "à´±à´®à´¦à´¾à´¨à´¿à´²àµ† à´ˆ à´¸à´¨àµà´§àµà´¯à´¯à´¿àµ½, à´®à´—àµâ€Œà´°à´¿à´¬àµ à´¨à´®à´¸àµà´•à´¾à´°à´¤àµà´¤à´¿à´²àµ‚à´Ÿàµ† à´¨à´¬à´¿(à´¸) à´ªà´±à´àµà´àµ: à´¨àµ‹à´®àµà´ªàµà´•à´¾à´°à´¨àµ à´¨àµ‹à´®àµà´ªàµ à´¤àµà´±à´•àµà´•àµà´®àµà´ªàµ‹àµ¾ à´¸à´¨àµà´¤àµ‹à´·à´®àµà´£àµà´Ÿàµ. à´ˆ à´¸à´¨àµà´¤àµ‹à´·à´‚ à´ªà´™àµà´•à´¿à´Ÿà´¾à´‚."
                    },
                    {
                        "message": "à´®à´—àµâ€Œà´°à´¿à´¬àµ à´¸à´®à´¯à´‚! à´…à´²àµà´²à´¾à´¹àµà´µà´¿àµ»àµà´±àµ† à´¸àµà´®à´°à´£à´¯à´¿àµ½ à´¨à´®àµà´®àµà´Ÿàµ† à´®à´¨à´¸àµà´¸à´¿à´¨àµ† à´¶à´¾à´¨àµà´¤à´®à´¾à´•àµà´•à´¾à´‚. à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´°à´•àµà´·à´¿à´¤à´¾à´µà´¿à´¨àµ† à´¨à´¿à´™àµà´™àµ¾ à´µà´¿à´³à´¿à´šàµà´šàµ à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¿à´•àµà´•àµà´•. à´¤àµ€àµ¼à´šàµà´šà´¯à´¾à´¯àµà´‚ à´…à´µàµ» à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¨à´•àµà´•àµ à´‰à´¤àµà´¤à´°à´‚ à´¨àµ½à´•àµà´¨àµà´¨à´µà´¨à´¾à´£àµ."
                    },
                    {
                        "message": "à´®à´—àµâ€Œà´°à´¿à´¬àµ à´¨à´®à´¸àµà´•à´¾à´°à´‚! à´ˆ à´¸à´¨àµà´§àµà´¯à´¯à´¿àµ½, à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´¨àµ‹à´®àµà´ªàµ à´¤àµà´±à´•àµà´•àµà´•. à´…à´²àµà´²à´¾à´¹àµà´µà´¿àµ»àµà´±àµ† à´…à´¨àµà´—àµà´°à´¹à´¤àµà´¤à´¿à´¨àµ à´¨à´¨àµà´¦à´¿ à´ªà´±à´¯àµà´•. à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´•àµà´Ÿàµà´‚à´¬à´¤àµà´¤àµ‹à´ŸàµŠà´ªàµà´ªà´‚ à´¸à´¨àµà´¤àµ‹à´·à´‚ à´ªà´™àµà´•à´¿à´Ÿàµà´•."
                    },
                    {
                        "message": "à´®à´—àµâ€Œà´°à´¿à´¬àµ! à´ˆ à´¸à´¨àµà´§àµà´¯à´¯à´¿àµ½, à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´šàµà´±àµà´±àµà´®àµà´³àµà´³à´µàµ¼à´•àµà´•àµ à´µàµ‡à´£àµà´Ÿà´¿ à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¿à´•àµà´•àµà´•. à´…à´µà´°àµà´Ÿàµ† à´¸à´¨àµà´¤àµ‹à´·à´¤àµà´¤à´¿à´¨à´¾à´¯à´¿ à´…à´²àµà´²à´¾à´¹àµà´µà´¿à´¨àµ‹à´Ÿàµ à´…à´ªàµ‡à´•àµà´·à´¿à´•àµà´•àµà´•."
                    },
                    {
                        "message": "à´¸à´¨àµà´§àµà´¯à´¯àµà´Ÿàµ† à´®à´¨àµ‹à´¹à´¾à´°à´¿à´¤à´¯à´¿àµ½, à´®à´—àµâ€Œà´°à´¿à´¬àµ à´¨à´®à´¸àµà´•à´¾à´°à´¤àµà´¤à´¿à´²àµ‚à´Ÿàµ† à´¨àµ‹à´®àµà´ªàµ à´¤àµà´±à´•àµà´•à´¾à´‚. à´ˆ à´¸à´®à´¯à´‚ à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¨à´•àµ¾à´•àµà´•àµ à´‰à´¤àµà´¤à´°à´‚ à´²à´­à´¿à´•àµà´•àµà´¨àµà´¨à´¤à´¾à´•à´Ÿàµà´Ÿàµ†."
                    },
                    {
                        "message": "à´®à´—àµâ€Œà´°à´¿à´¬àµ à´¨à´®à´¸àµà´•à´¾à´°à´‚! à´¨àµ‹à´®àµà´ªàµ à´¤àµà´±à´•àµà´•àµà´¨àµà´¨ à´ˆ à´µàµ‡à´³à´¯à´¿àµ½, à´¦àµˆà´µà´¸àµà´®à´°à´£à´¯à´¿àµ½ à´®àµà´´àµà´•à´¾à´‚. à´ˆ à´¸à´®à´¯à´‚ à´¸àµ½à´•àµ¼à´®àµà´®à´™àµà´™àµ¾à´•àµà´•à´¾à´¯à´¿ à´‰à´ªà´¯àµ‹à´—à´¿à´•àµà´•à´¾à´‚."
                    },
                    {
                        "message": "à´®à´—àµâ€Œà´°à´¿à´¬àµ à´¨à´®à´¸àµà´•à´¾à´°à´‚! à´ˆ à´¸à´¨àµà´§àµà´¯à´¯à´¿àµ½, à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´¤àµ†à´±àµà´±àµà´•àµ¾ à´“àµ¼à´¤àµà´¤àµ à´ªà´¶àµà´šà´¾à´¤àµà´¤à´ªà´¿à´•àµà´•àµà´•. à´¨à´²àµà´² à´šà´¿à´¨àµà´¤à´•à´³àµ‹à´Ÿàµ† à´¨àµ‹à´®àµà´ªàµ à´¤àµà´±à´•àµà´•àµà´•."
                    },
                    {
                        "message": "à´®à´—àµâ€Œà´°à´¿à´¬àµ à´¸à´®à´¯à´‚! à´ˆ à´ªàµà´£àµà´¯à´®à´¾à´¸à´¤àµà´¤à´¿àµ½, à´¨àµ‹à´®àµà´ªàµ à´¤àµà´±à´•àµà´•àµà´¨àµà´¨à´¤à´¿àµ»àµà´±àµ† à´ªàµà´°à´¾à´§à´¾à´¨àµà´¯à´¤àµà´¤àµ†à´•àµà´•àµà´±à´¿à´šàµà´šàµ à´šà´¿à´¨àµà´¤à´¿à´•àµà´•àµà´•. à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´œàµ€à´µà´¿à´¤à´¤àµà´¤à´¿à´²àµ† à´…à´¨àµà´—àµà´°à´¹à´™àµà´™àµ¾à´•àµà´•àµ à´¨à´¨àµà´¦à´¿ à´ªà´±à´¯àµà´•."
                    },
                    {
                        "message": "à´®à´—àµâ€Œà´°à´¿à´¬àµ! à´ˆ à´¸à´¨àµà´§àµà´¯à´¯à´¿àµ½, à´…à´²àµà´²à´¾à´¹àµà´µà´¿àµ»àµà´±àµ† à´•à´¾à´°àµà´£àµà´¯à´‚ à´¤àµ‡à´Ÿà´¾à´‚. à´¨à´®àµà´®àµà´Ÿàµ† à´ªàµà´°à´¿à´¯à´ªàµà´ªàµ†à´Ÿàµà´Ÿà´µàµ¼à´•àµà´•àµà´‚ à´²àµ‹à´•à´¤àµà´¤à´¿à´¨àµà´‚ à´µàµ‡à´£àµà´Ÿà´¿ à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¿à´•àµà´•à´¾à´‚."
                    }
                ]
            }, {
                "Isha": [
                    {
                        "message": "à´‡à´·à´¾ à´¨à´®à´¸àµà´•à´¾à´°à´‚! à´†à´°àµ†à´™àµà´•à´¿à´²àµà´‚ à´‡à´·à´¾ à´¨à´®à´¸àµà´•à´¾à´°à´‚ à´œà´®à´¾à´…à´¤àµà´¤à´¾à´¯à´¿ à´¨à´¿àµ¼à´µà´¹à´¿à´šàµà´šà´¾àµ½, à´…à´µàµ» à´°à´¾à´¤àµà´°à´¿à´¯àµà´Ÿàµ† à´ªà´•àµà´¤à´¿ à´¨à´®à´¸àµà´•à´°à´¿à´šàµà´šà´µà´¨àµ†à´ªàµà´ªàµ‹à´²àµ†à´¯à´¾à´£àµ. à´ˆ à´°à´¾à´¤àµà´°à´¿à´¯à´¿àµ½, à´¤à´±à´¾à´µàµ€à´¹àµ à´¨à´®à´¸àµà´•à´¾à´°à´¤àµà´¤à´¿àµ½ à´ªà´™àµà´•àµ†à´Ÿàµà´•àµà´•à´¾à´‚."
                    },
                    {
                        "message": "à´±à´®à´¦à´¾à´¨à´¿à´²àµ† à´ˆ à´°à´¾à´¤àµà´°à´¿à´¯à´¿àµ½, à´‡à´·à´¾ à´¨à´®à´¸àµà´•à´¾à´°à´¤àµà´¤à´¿à´²àµ‚à´Ÿàµ† à´¨à´¬à´¿(à´¸) à´ªà´±à´àµà´àµ: à´¨à´¿à´™àµà´™àµ¾ à´¤à´±à´¾à´µàµ€à´¹àµ à´¨à´®à´¸àµà´•à´°à´¿à´•àµà´•àµà´•. à´…à´²àµà´²à´¾à´¹àµ à´¨à´¿à´™àµà´™àµ¾à´•àµà´•àµà´³àµà´³ à´ªà´¾à´ªà´™àµà´™àµ¾ à´ªàµŠà´±àµà´¤àµà´¤àµà´¤à´°àµà´‚. à´–àµàµ¼à´†àµ» à´ªà´¾à´°à´¾à´¯à´£à´‚ à´šàµ†à´¯àµà´¯à´¾à´‚."
                    },
                    {
                        "message": "à´‡à´·à´¾ à´¸à´®à´¯à´‚! à´…à´²àµà´²à´¾à´¹àµà´µà´¿àµ»àµà´±àµ† à´¸àµà´®à´°à´£à´¯à´¿àµ½ à´¨à´®àµà´®àµà´Ÿàµ† à´®à´¨à´¸àµà´¸à´¿à´¨àµ† à´¶à´¾à´¨àµà´¤à´®à´¾à´•àµà´•à´¾à´‚. à´¨à´¿à´™àµà´™àµ¾ à´…à´²àµà´²à´¾à´¹àµà´µà´¿à´¨àµ† à´¸àµà´®à´°à´¿à´•àµà´•àµà´®àµà´ªàµ‹àµ¾ à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´¹àµƒà´¦à´¯à´™àµà´™àµ¾ à´¶à´¾à´¨àµà´¤à´®à´¾à´µàµà´¨àµà´¨àµ."
                    },
                    {
                        "message": "à´‡à´·à´¾ à´¨à´®à´¸àµà´•à´¾à´°à´‚! à´ˆ à´°à´¾à´¤àµà´°à´¿à´¯à´¿àµ½, à´¤à´±à´¾à´µàµ€à´¹àµ à´¨à´®à´¸àµà´•à´¾à´°à´¤àµà´¤à´¿àµ½ à´ªà´™àµà´•àµ†à´Ÿàµà´•àµà´•àµà´•. à´…à´²àµà´²à´¾à´¹àµà´µà´¿àµ»àµà´±àµ† à´…à´¨àµà´—àµà´°à´¹à´‚ à´¤àµ‡à´Ÿàµà´•. à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´œàµ€à´µà´¿à´¤à´¤àµà´¤à´¿à´²àµ† à´¸à´®à´¾à´§à´¾à´¨à´¤àµà´¤à´¿à´¨à´¾à´¯à´¿ à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¿à´•àµà´•àµà´•."
                    },
                    {
                        "message": "à´‡à´·à´¾! à´ˆ à´°à´¾à´¤àµà´°à´¿à´¯à´¿àµ½, à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´šàµà´±àµà´±àµà´®àµà´³àµà´³à´µàµ¼à´•àµà´•àµ à´µàµ‡à´£àµà´Ÿà´¿ à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¿à´•àµà´•àµà´•. à´…à´µà´°àµà´Ÿàµ† à´¸à´¨àµà´¤àµ‹à´·à´¤àµà´¤à´¿à´¨à´¾à´¯à´¿ à´…à´²àµà´²à´¾à´¹àµà´µà´¿à´¨àµ‹à´Ÿàµ à´…à´ªàµ‡à´•àµà´·à´¿à´•àµà´•àµà´•."
                    },
                    {
                        "message": "à´°à´¾à´¤àµà´°à´¿à´¯àµà´Ÿàµ† à´¶à´¾à´¨àµà´¤à´¤à´¯à´¿àµ½, à´‡à´·à´¾ à´¨à´®à´¸àµà´•à´¾à´°à´¤àµà´¤à´¿à´²àµ‚à´Ÿàµ† à´¤à´±à´¾à´µàµ€à´¹àµ à´¨à´®à´¸àµà´•à´¾à´°à´¤àµà´¤à´¿àµ½ à´ªà´™àµà´•àµ†à´Ÿàµà´•àµà´•à´¾à´‚. à´ˆ à´¸à´®à´¯à´‚ à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¨à´•àµ¾à´•àµà´•àµ à´‰à´¤àµà´¤à´°à´‚ à´²à´­à´¿à´•àµà´•àµà´¨àµà´¨à´¤à´¾à´•à´Ÿàµà´Ÿàµ†."
                    },
                    {
                        "message": "à´‡à´·à´¾ à´¨à´®à´¸àµà´•à´¾à´°à´‚! à´ˆ à´µàµ‡à´³à´¯à´¿àµ½, à´¦àµˆà´µà´¸àµà´®à´°à´£à´¯à´¿àµ½ à´®àµà´´àµà´•à´¾à´‚. à´¤à´±à´¾à´µàµ€à´¹àµ à´¨à´®à´¸àµà´•à´¾à´°à´¤àµà´¤à´¿àµ½ à´ªà´™àµà´•àµ†à´Ÿàµà´•àµà´•à´¾à´‚."
                    },
                    {
                        "message": "à´‡à´·à´¾ à´¨à´®à´¸àµà´•à´¾à´°à´‚! à´ˆ à´°à´¾à´¤àµà´°à´¿à´¯à´¿àµ½, à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´¤àµ†à´±àµà´±àµà´•àµ¾ à´“àµ¼à´¤àµà´¤àµ à´ªà´¶àµà´šà´¾à´¤àµà´¤à´ªà´¿à´•àµà´•àµà´•. à´¨à´²àµà´² à´šà´¿à´¨àµà´¤à´•à´³àµ‹à´Ÿàµ† à´‰à´±à´™àµà´™àµà´•."
                    },
                    {
                        "message": "à´‡à´·à´¾ à´¸à´®à´¯à´‚! à´ˆ à´ªàµà´£àµà´¯à´®à´¾à´¸à´¤àµà´¤à´¿àµ½, à´°à´¾à´¤àµà´°à´¿à´¯àµà´Ÿàµ† à´¶à´¾à´¨àµà´¤à´¤à´¯à´¿àµ½ à´…à´²àµà´²à´¾à´¹àµà´µà´¿à´¨àµ† à´“àµ¼à´•àµà´•àµà´•. à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´œàµ€à´µà´¿à´¤à´¤àµà´¤à´¿à´²àµ† à´¸à´¨àµà´¤àµ‹à´·à´¤àµà´¤à´¿à´¨à´¾à´¯à´¿ à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¿à´•àµà´•àµà´•."
                    },
                    {
                        "message": "à´‡à´·à´¾! à´ˆ à´°à´¾à´¤àµà´°à´¿à´¯à´¿àµ½, à´…à´²àµà´²à´¾à´¹àµà´µà´¿àµ»àµà´±àµ† à´•à´¾à´°àµà´£àµà´¯à´‚ à´¤àµ‡à´Ÿà´¾à´‚. à´¨à´®àµà´®àµà´Ÿàµ† à´ªàµà´°à´¿à´¯à´ªàµà´ªàµ†à´Ÿàµà´Ÿà´µàµ¼à´•àµà´•àµà´‚ à´²àµ‹à´•à´¤àµà´¤à´¿à´¨àµà´‚ à´µàµ‡à´£àµà´Ÿà´¿ à´ªàµà´°à´¾àµ¼à´¤àµà´¥à´¿à´•àµà´•à´¾à´‚."
                    }
                ]
            },

            ]
            const prayerObj = msg.find(obj => obj[prayer]);

            if (prayerObj) {
                const prayerMessages = prayerObj[prayer];

                // Select a random message
                var randomMessage = prayerMessages[Math.floor(Math.random() * prayerMessages.length)].message;
            } else {
                randomMessage = "ok";
            }
            let subscribers = fs.existsSync('subscribers.json')
                ? JSON.parse(fs.readFileSync('subscribers.json', 'utf-8'))
                : [];
                for (const subscriber of subscribers) {
                    const delay = Math.floor(Math.random() * 2000) + 2000; // Random delay between 2000ms (2s) to 4000ms (4s)
                    
                    await new Promise(resolve => setTimeout(resolve, delay));
                    
                    await sock.sendMessage(subscriber, { text: randomMessage });
                }
        },{timezone:timeZone});
        console.log(`Scheduled ${prayer} reminder at ${hour}:${minute} using cron "${cronTime}"`);
    });
}

startBot();

// Run health check every 1 minute
cron.schedule('* * * * *', () => {
    console.log(`ğŸ“¢ Health check performed at ${new Date().toLocaleString('en-IN', { timeZone: 'Asia/Kolkata' })}`);
});

const checkHealth = () => {
    http.get('https://azan-reminder-bo.onrender.com', (res) => {
        let data = '';

        res.on('data', chunk => data += chunk);
        res.on('end', () => console.log(`ğŸ“¢ Health Check: ${data}`));
    }).on('error', (err) => {
        console.error('âŒ Health Check Failed:', err.message);
    });
};

// Run health check every 1 minute
setInterval(checkHealth, 60 * 1000);


